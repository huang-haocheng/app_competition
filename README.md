# AIGC 视频创作辅助系统

一个基于 AI 技术的视频创作全流程辅助系统，帮助用户从创意构思到视频生成，实现智能化、自动化的创作体验。

## 功能特点

### 📝 创作流程覆盖
- **创意构思**：与 AI 助手交流，提炼创作想法
- **分镜大纲**：自动生成专业的视频分镜大纲
- **剧本编写**：基于大纲生成详细的视频剧本
- **动画生成**：将剧本转换为动画视频

### 🤖 智能 Agent 系统
- **导演助手**：协调整个创作流程
- **大纲 writer**：生成视频分镜大纲
- **剧本 writer**：编写详细视频剧本
- **动画师**：将剧本转换为动画

### 💾 项目管理
- 自动保存创作过程
- 支持项目修改与迭代
- 导出创作成果

## 技术栈

- **Python**：主要开发语言
- **LangChain**：LLM 应用框架
- **LangGraph**：构建对话流程图
- **AIP RPC**：Agent 通信协议
- **Asyncio**：异步编程支持

## 安装与配置

### 环境要求
- Python 3.10+
- 依赖管理：pip

### 安装依赖
```bash
pip install -r requirements.txt
```

### 配置文件
项目需要以下配置文件：
- `.env`：环境变量配置
- `director_assistant.json`：客户端配置

## 使用流程

### 启动系统
```bash
python run_acps.py
```

### 创作步骤

1. **初始化项目**
   - 输入项目名称
   - 系统自动创建项目目录

2. **创意构思**
   - 与 AI 助手交流创作想法
   - 系统记录并提炼核心创意

3. **生成分镜大纲**
   - 确认创意后，系统生成分镜大纲
   - 可选择修改或继续

4. **编写剧本**
   - 基于分镜大纲生成详细剧本
   - 可选择修改或继续

5. **生成视频**
   - 系统将剧本转换为动画视频
   - 视频生成完成后自动保存

### 交互命令

- **确认指令**："确认"、"是"、"确定"、"好的"
- **退出系统**："退出"、"再见"、"bye"、"quit"、"exit"、"结束"

## 项目结构

```
├── certs/               # Acps证书目录
├── a2a/                 # A2A 组件，暂时废弃
├── acps_aip/            # AIP Acps组件
├── agents/              # AI Agent 实现
│   ├── assistant/       # 导演助手
│   ├── animators/       # 动画师
│   └── writers/         # 创作者
├── tools/               # 工具函数
├── user_files/          # 用户文件目录       
│    └── project_name/ # 具体项目目录
│        ├── project.json # 工作流中大纲、脚本等信息存储
│        └── project_name_id.mp4       # 生成的视频
├── base.py              # 基础类，包含通用功能
├── file_manage.py       # 文件管理类
├── run_acps.py          # 主程序入口
├── transform_.py        # 数据转换
└── README.md            # 项目说明
```
其余文件均与项目暂时无关

## 核心模块说明

### PersonalAssistantOrchestrator
协调整个创作流程的核心类，管理各个 Agent 之间的交互与状态流转。

### AgentRegistry
ACPs组件使用，管理所有 AI Agent 的注册表，支持通过关键词查找对应的 Agent。

### ChatGraphState
LangGraph 节点之间流转的对话状态，包含会话信息、用户输入、创作材料等。

## 开发与扩展

### 待办项目
- 交互优化：现在intend节点在用户输入后，希望能调整至用户输入前。
- assistant智能体需要添加联网搜索MCP[ ]
- PersonalAssistantOrchestrator,需要添加从现有文件里加载项目进度的功能，现在只能从一开始创作。[ ]
- 将tools里的merge_video添加到工作流里[ ]
- 将调用智能体的方式从function call改为使用ACPs[ ]
- 录制演示视频[ ]
- 完善用户文件管理的功能，添加会话记录保存和加载的功能


## 注意事项

1. 系统需要连接到外部 AI 服务，请确保网络通畅
2. 视频生成可能需要较长时间，请耐心等待

## 联系方式

如有问题或建议，请联系项目维护者。